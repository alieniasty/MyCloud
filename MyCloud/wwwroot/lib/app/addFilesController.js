!function(){"use strict";angular.module("appPanel").controller("addFilesController",["$state","$scope","FileUploader",function(e,t,a){(t.uploader=new a({url:"/api/files/upload",removeAfterUpload:!0,formData:[{folder:t.params.folder}]})).onCompleteAll=function(){e.go(e.current,{},{reload:!0})}}]).directive("ngThumb",["$window",function(e){return{restrict:"A",template:"<canvas/>",link:function(e,t,a){function i(){var e=n.width||this.width/this.height*n.height,t=n.height||this.height/this.width*n.width;r.attr({width:e,height:t});var a=r[0].getContext("2d");a.globalAlpha=.5,a.drawImage(this,0,0,e,t)}var n=e.$eval(a.ngThumb),r=t.find("canvas"),l=new FileReader;l.onload=function(e){var t=new Image;t.onload=i,t.src=e.target.result},l.readAsDataURL(n.file)}}}])}();